<div class="container">
    <a ui-sref="about" class="nav-link">About</a>
    <h2>Our Shop</h2>

    <form ng-submit="createPost()">
        <input class="form-control posts__create-input" placeholder="Add new Post" ng-model="createPostInput" />
        <textarea class="form-control" rows="3" placeholder="Please input post content" ng-model="createContentInput"></textarea>
        <button class="btn btn-success posts__create-button">Create Post</button>
    </form>

    <table class="table table-striped">
        <tr>
            <th>Completed?</th>
            <th>Post Title</th>
            <th>Actions</th>
        </tr>
        <tr ng-repeat="post in posts">
            <td>
                <input type="checkbox"
                    ng-checked="post.isCompleted"
                    ng-click="onCompletedClick(post)" />
            </td>
            <td>
                <span ng-if="!post.isEditing"
                    class="posts__task"
                    ng-class="{'posts__task--completed': post.isCompleted}">
                    {{post.title}}
                </span>
                <span ng-if="!post.isEditing"
                    ng-class="{'posts__task--completed': post.isCompleted}">
                    {{post.content}}
                </span>

                <form ng-submit="updatePost(post)">
                    <input ng-if="post.isEditing"
                        class="form-control posts__update-input"
                        ng-value="post.title"
                        ng-model="post.updatedTitle" />

                    <input ng-if="post.isEditing"
                        class="form-control posts__update-input"
                        ng-value="post.content"
                        ng-model="post.updatedContent" />
                </form>
            </td>
            <td>
                <button ng-if="!post.isEditing"
                    class="btn btn-info"
                    ng-click="onEditClick(post)">
                    Edit
                </button>
                <button ng-if="!post.isEditing"
                    class="btn btn-danger"
                    ng-click="deletePost(post)">
                    Delete
                </button>

                <button ng-if="post.isEditing"
                    class="btn btn-primary"
                    ng-click="updatePost(post)">
                    Save
                </button>
                <button ng-if="post.isEditing"
                    class="btn btn-default"
                    ng-click="onCancelClick(post)">
                    Cancel
                </button>
            </td>
        </tr>
    </table>
</div>
